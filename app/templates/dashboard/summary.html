{% extends "dashboard/profile.html" %}
{% load static %}

{% block profile_header %}
  <a href="{% url 'users:profile' %}" class="text-sm font-bold mt-2 mb-4 px-4 transition-all duration-200 py-2 px-2 rounded-lg bg-gray-200 text-gray-800 hover:text-gray-900 hover:bg-gray-300">
    Powrot do profilu
  </a>
{% endblock profile_header %}
{% block profile_courses %}{% endblock profile_courses %}
{% block profile_details %}{% endblock profile_details %}
{% block profile_content %}
  <h4 class="flex items-center pt-4 text-lg leading-6 font-medium text-gray-900 mb-2">
    Historia studiow
  </h4>
  {% for grade, values in summary.items %}
    <h4 class="flex items-center pt-4 text-md leading-6 font-medium text-gray-900 mb-2">
      {{ grade }}
    </h4>
    {% if not values.crs %}
      <p class="text-sm text-gray-800">Brak kursow</p>
    {% else %}
    <table class="table-auto border-collapse w-full">
      <thead>
      <tr class="rounded-t-lg text-sm font-medium text-gray-700 text-left" style="font-size: 0.9674rem">
        <th class="px-4 py-2">Kurs</th>
        <th class="px-4 py-2">Semestr</th>
        <th class="px-4 py-2">Ocena ko≈Ñcowa</th>
      </tr>
      </thead>
      <tbody class="text-sm font-normal text-gray-700">
      {% for course, crs_val in values.crs.items %}
        <tr class="hover:bg-gray-100 border-b border-gray-200 py-10">
          <td class="px-4 py-4"><a class="text-blue-400 hover:text-blue-500" href="{% url 'courses:courses-detail' course.slug %}">{{ course.name }}</a></td>
          <td class="px-4 py-4">{{ course.semester }}</td>
          <td class="px-4 py-4">{% if crs_val.final_mark.mark %}{{ crs_val.final_mark.mark }}%{% else %}-{% endif %}</td>
        </tr>
      {% endfor %}
      </tbody>
    </table>
      <p class="mt-2 mb-2 ml-4 text-sm text-gray-800">Srednia ocen: {{ values.avg }}</p>
    {% endif %}
  {% endfor %}
{% endblock profile_content %}

